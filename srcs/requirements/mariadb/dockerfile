# Usamos Alpine Linux como base
FROM alpine:3.15

# Instalamos MariaDB
RUN apk add --no-cache mariadb mariadb-client

# Creamos los directorios necesarios
RUN mkdir -p /var/lib/mysql /run/mysqld

# Copiamos el archivo de configuraci√≥n de MariaDB
COPY conf/my.cnf /etc/my.cnf

# Establecemos los permisos correctos
RUN chown -R mysql:mysql /var/lib/mysql /run/mysqld

# Iniciamos MariaDB
CMD ["mysqld_safe"]

EXPOSE 3306
